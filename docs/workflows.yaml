workflows:
  - id: process_file
    event: file_created
    path: /app/data
    action: /app/scripts/process_data.sh <file>
  - id: notify_message
    event: message_received
    queue: redis://redis:6379/0
    action: python /app/src/notify.py
  - id: k8s_nginx
    event: k8s_deploy
    manifest: /app/k8s/nginx-deployment.yaml
    action: python /app/src/k8s_deploy.py <manifest>
    depends_on: ['process_file']
